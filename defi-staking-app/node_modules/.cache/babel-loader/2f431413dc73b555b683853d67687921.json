{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.read = void 0;\n\nfunction read(path, settings, callback) {\n  settings.fs.lstat(path, function (lstatError, lstat) {\n    if (lstatError !== null) {\n      callFailureCallback(callback, lstatError);\n      return;\n    }\n\n    if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\n      callSuccessCallback(callback, lstat);\n      return;\n    }\n\n    settings.fs.stat(path, function (statError, stat) {\n      if (statError !== null) {\n        if (settings.throwErrorOnBrokenSymbolicLink) {\n          callFailureCallback(callback, statError);\n          return;\n        }\n\n        callSuccessCallback(callback, lstat);\n        return;\n      }\n\n      if (settings.markSymbolicLink) {\n        stat.isSymbolicLink = function () {\n          return true;\n        };\n      }\n\n      callSuccessCallback(callback, stat);\n    });\n  });\n}\n\nexports.read = read;\n\nfunction callFailureCallback(callback, error) {\n  callback(error);\n}\n\nfunction callSuccessCallback(callback, result) {\n  callback(null, result);\n}","map":null,"metadata":{},"sourceType":"script"}