{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/apple/Desktop/remix_udamy/udamy_project/defi-staking-app-starter/defi-staking-app-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/apple/Desktop/remix_udamy/udamy_project/defi-staking-app-starter/defi-staking-app-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/Users/apple/Desktop/remix_udamy/udamy_project/defi-staking-app-starter/defi-staking-app-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/apple/Desktop/remix_udamy/udamy_project/defi-staking-app-starter/defi-staking-app-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/Users/apple/Desktop/remix_udamy/udamy_project/defi-staking-app-starter/defi-staking-app-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar stream_1 = require(\"stream\");\n\nvar stream_2 = require(\"../readers/stream\");\n\nvar provider_1 = require(\"./provider\");\n\nvar ProviderStream = /*#__PURE__*/function (_provider_1$default) {\n  _inherits(ProviderStream, _provider_1$default);\n\n  function ProviderStream() {\n    var _this;\n\n    _classCallCheck(this, ProviderStream);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProviderStream).apply(this, arguments));\n    _this._reader = new stream_2.default(_this._settings);\n    return _this;\n  }\n\n  _createClass(ProviderStream, [{\n    key: \"read\",\n    value: function read(task) {\n      var root = this._getRootDirectory(task);\n\n      var options = this._getReaderOptions(task);\n\n      var source = this.api(root, task, options);\n      var destination = new stream_1.Readable({\n        objectMode: true,\n        read: function read() {}\n      });\n      source.once('error', function (error) {\n        return destination.emit('error', error);\n      }).on('data', function (entry) {\n        return destination.emit('data', options.transform(entry));\n      }).once('end', function () {\n        return destination.emit('end');\n      });\n      destination.once('close', function () {\n        return source.destroy();\n      });\n      return destination;\n    }\n  }, {\n    key: \"api\",\n    value: function api(root, task, options) {\n      if (task.dynamic) {\n        return this._reader.dynamic(root, options);\n      }\n\n      return this._reader.static(task.patterns, options);\n    }\n  }]);\n\n  return ProviderStream;\n}(provider_1.default);\n\nexports.default = ProviderStream;","map":null,"metadata":{},"sourceType":"script"}